<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Habitantes - Panel de Administración</title>
    <link rel="shortcut icon" href="../Images/logo.ico" />
    <script src="../Scripts/jquery-3.7.1.min.js"></script>
    <script src="../Scripts/semantic.min.js"></script>
    <link rel="stylesheet" type="text/CSS" href="../CSS/semantic.css">       
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"> 
    <script src="../Scripts/scripts_gestion_habitantes.js"></script>
    <link rel="stylesheet" href="../CSS/gestion_habitantes.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="ui vertical inverted sidebar menu sidebar-menu" style="background-color: #9A9CEA;">
        <div class="item">
            <div class="header">
                <h2 class="ui inverted header">
                    <i class="cog icon"></i>
                    <div class="content">
                        Panel Gestor
                        <div class="sub header">Gestión de Habitantes</div>
                    </div>
                </h2>
            </div>
        </div>
        <div class="item">
            <div class="menu">
                <a class="item sidebar-toggle-btn">
                    <br>
                    <i class="large arrow left icon"></i>
                    Cerrar menú
                    <br>
                </a>
                <a class="item" href="admin.html">
                    <i class="home icon"></i>
                    Panel de Control
                </a>
                <a class="active item">
                    <i class="users icon"></i>
                    Habitantes
                </a>
                <a class="item">
                    <i class="chart bar icon" href=""></i>
                    Solicitudes
                </a>
                <a class="item">
                    <i class="cogs icon"></i>
                    Configuración
                </a>
            </div>
        </div>
        <div class="item">
            <div class="ui divider"></div>
            <a class="item" href="/index.html">
                <i class="sign out icon"></i>
                Cerrar Sesión
            </a>
        </div>
         <div class="sidebar-footer-image">
            <img src="../Images/logopng.png" alt="Decoración de Sidebar">
        </div>
    </div>
    </div>

    <!-- Page Contents -->
    <div class="pusher">
        <!-- Top Menu -->
        <div class="ui top fixed stackable menu" style="background-color: #9A9CEA;">
            <div class="ui container">
                <div class="item">
                    <img src="../Images/logopng.png" alt="Logo"> <!--logo de la pagina-->
                </div>
                <a class="item" id="sidebar-toggle">
                    <i class="sidebar icon" style="color: white;"></i>
                </a>
                <div class="header item" style="color: white;">
                    Gestión de Habitantes
                </div>
                <div class="right menu">
                    <div class="ui dropdown item" style="color: white;">
                        <i class="user icon" style="color: white;"></i> Gestor
                        <i class="dropdown icon"></i>
                        <div class="menu">
                            <a class="item"><i class="user icon"></i> Mi Perfil</a>
                            <a class="item"><i class="cog icon"></i> Configuración</a>
                            <div class="divider"></div>
                            <a class="item" href="/index.html"><i class="sign out icon"></i> Cerrar Sesión</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="ui container">
                <!-- Page Header -->
                <div class="page-header">
                    <h1 class="ui header">
                        <i class="users icon"></i>
                        <div class="content">
                            Gestión de Habitantes
                            <div class="sub header">Administra la información de los habitantes registrados</div>
                        </div>
                    </h1>
                    <div class="action-buttons">
                        <button class="ui primary button" id="add-habitant">
                            <i class="plus icon"></i>
                            Agregar Habitante
                        </button>
                        <button class="ui button">
                            <i class="download icon"></i>
                            Exportar
                        </button>
                    </div>
                </div>
                
                <div class="ui divider"></div>
                
                <!-- Search and Filter -->
                <div class="search-filter">
                    <div class="ui search">
                        <div class="ui icon input">
                            <input class="prompt" type="text" placeholder="Buscar habitantes...">
                            <i class="search icon"></i>
                        </div>
                        <div class="results"></div>
                    </div>
                    
                    <div class="ui selection dropdown">
                        <input type="hidden" name="filter">
                        <i class="dropdown icon"></i>
                        <div class="default text">Filtrar por año</div>
                        <div class="menu">
                            <div class="item" data-value="all">Todos los años</div>
                            <div class="item" data-value="2023">2023</div>
                            <div class="item" data-value="2022">2022</div>
                            <div class="item" data-value="2021">2021</div>
                            <div class="item" data-value="2020">2020</div>
                        </div>
                    </div>
                </div>
                
                <!-- Habitants Table -->
                <div class="table-container">
                    <table class="ui striped table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Cédula</th>
                                <th>Nombre</th>
                                <th>Apellido</th>
                                <th>Correo</th>
                                <th>Año de Registro</th>
                                <th>Estado</th>
                                <th>Historial de Pagos</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="habitantes-table-body">
                            <!-- Los datos se cargarán dinámicamente con JavaScript -->
                        </tbody>
                    </table>
                    
                    <!-- Pagination -->
                    <div class="ui right aligned segment">
                        <div class="ui pagination menu">
                            <a class="icon item">
                                <i class="left chevron icon"></i>
                            </a>
                            <a class="active item">1</a>
                            <a class="item">2</a>
                            <a class="item">3</a>
                            <a class="item">4</a>
                            <a class="icon item">
                                <i class="right chevron icon"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para agregar/editar habitante -->
    <div class="ui modal" id="habitant-modal">
        <i class="close icon"></i>
        <div class="header" id="modal-title">Agregar Nuevo Habitante</div>
        <div class="content">
            <form class="ui form" id="habitant-form">
                <div class="two fields">
                    <div class="field">
                        <label>Nombre</label>
                        <input type="text" name="nombre" placeholder="Nombre" required>
                    </div>
                    <div class="field">
                        <label>Apellido</label>
                        <input type="text" name="apellido" placeholder="Apellido" required>
                    </div>
                </div>
                <div class="two fields">
                    <div class="field">
                        <label>Cédula</label>
                        <input type="text" name="cedula" placeholder="Número de cédula" required>
                    </div>
                    <div class="field">
                        <label>Correo Electrónico</label>
                        <input type="email" name="correo" placeholder="correo@ejemplo.com" required>
                    </div>
                </div>
                <div class="field">
                    <label>Año de Registro</label>
                    <select class="ui dropdown" name="anio_registro" required>
                        <option value="">Seleccionar año</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                        <option value="2019">2019</option>
                    </select>
                </div>
                <div class="field">
                    <label>Estado</label>
                    <select class="ui dropdown" name="estado" required>
                        <option value="activo">Activo</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="actions">
            <div class="ui black deny button">
                Cancelar
            </div>
            <div class="ui positive right labeled icon button" id="save-habitant">
                Guardar
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

    <!-- Modal para historial de pagos -->
    <div class="ui modal" id="payment-modal">
        <i class="close icon"></i>
        <div class="header">Historial de Pagos</div>
        <div class="content">
            <div class="ui header" id="payment-habitant-name"></div>
            <div class="ui divider"></div>
            
            <button class="ui primary button" id="add-payment">
                <i class="plus icon"></i>
                Agregar Pago
            </button>
            
            <div class="ui segment">
                <h4 class="ui header">Historial de Transacciones</h4>
                <div class="ui divided items" id="payment-history-list">
                    <!-- Los pagos se cargarán dinámicamente -->
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui black deny button">
                Cerrar
            </div>
        </div>
    </div>

    <!-- Modal para agregar pago -->
    <div class="ui small modal" id="add-payment-modal">
        <i class="close icon"></i>
        <div class="header">Agregar Nuevo Pago</div>
        <div class="content">
            <form class="ui form" id="payment-form">
                <div class="two fields">
                    <div class="field">
                        <label>Fecha</label>
                        <input type="date" name="fecha" required>
                    </div>
                    <div class="field">
                        <label>Monto (Bs)</label>
                        <input type="number" name="monto" step="0.01" placeholder="0.00" required>
                    </div>
                </div>
                <div class="two fields">
                    <div class="field">
                        <label>Método de Pago</label>
                        <select class="ui dropdown" name="metodo_pago" required>
                            <option value="">Seleccionar método</option>
                            <option value="transferencia">Transferencia</option>
                            <option value="efectivo">Efectivo</option>
                            <option value="pago_movil">Pago movil</option>
                        </select>
                    </div>
                    <div class="field">
                        <label>Banco Emisor</label>
                        <select class="ui dropdown" name="banco_emisor" required>
                            <option value="">Seleccionar banco</option>
                            <option value="banco1">Banco Nacional de Credito</option>
                            <option value="banco2">Banco de Venezuela</option>
                            <option value="banco3">Banco Provincial</option>
                            <option value="banco4">Banco del Trabajador</option>
                            <option value="otro">Otro</option>
                        </select>
                    </div>
                </div>
                <div class="field">
                    <label>Estatus</label>
                    <select class="ui dropdown" name="estatus" required>
                        <option value="validado">Validado</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="rechazado">Rechazado</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="actions">
            <div class="ui black deny button">
                Cancelar
            </div>
            <div class="ui positive right labeled icon button" id="save-payment">
                Guardar
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>

</body>
</html>